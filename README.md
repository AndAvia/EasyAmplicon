# EasyAmplicon (易扩增子)

The Chinese version in (中文版见) [README_cn.md](./README_cn.md)

[**EasyAmplicon: An easy-to-use, open-source, reproducible, and community-based pipeline for amplicon data analysis in microbiome research**](https://doi.org/10.1002/imt2.83)

Version：v1.18.1

Update：2023/3/27

## Pipeline manual and file description (流程使用和文件介绍)

Using RStudio open the pipeline.sh

Files description:

- Readme.md # Introduction and install
- pipeline.sh # Command-line analysis for Windows and Linux
- pipeline_mac.sh # Command-line analysis for MacOS
- result/ # Example data
- result/Diversity.Rmd # Interactive analysis in R and output reproducible report in HTML format

## What can we do? (结果展示)

- Analysis and visualization of microbiome data, especially for 16S rDNA amplicon;
- From raw data into feature tables;
- Support 20+ analysis methods and publish-ready visualization;
- Finish your project at your laptop in 3 hours;
- Chinese/English manual and video supported.

![image](http://www.imeta.science/github/EasyAmplicon/result/Figure1.jpg)

**Figure 1. Pipeline of EasyAmplicon for analyzing paired-end amplicon sequences.**

![image](http://www.imeta.science/github/EasyAmplicon/result/Figure2.jpg)

**Figure 2. Examples of publication-quality visualizations.**

![image](http://www.imeta.science/github/EasyAmplicon/result/Figure3.jpg)

**Figure 3. Supplementary examples of publication-quality visualizations to Figure 2.**

![image](http://www.imeta.science/github/EasyAmplicon/result/Figure4.jpg)

**Figure 4. Visualizations generated by third-party software using the intermediate files of EasyAmplicon.**


## Install (安装)

### Install Dependency (安装依赖软件)

Please install the dependency software according with you system (Win/Mac/Linux).

- R 4.x.x for run R scripts https://www.r-project.org/
- RStudio 2022.xx.x is a integrated development environment for R https://posit.co/download/rstudio-desktop/
- STAMP v2.1.3 http://kiwi.cs.dal.ca/Software/STAMP 
- Git for Windows 2.xx.x (Windows only) http://gitforwindows.org/

As the windows users (87.5%) as example, you can quickly batch download above [Git for Windows](https://gitforwindows.org/), [R](https://mirrors.tuna.tsinghua.edu.cn/CRAN/bin/windows/base/), [RStudio](https://posit.co/download/rstudio-desktop/), [STAMP](https://github.com/dparks1134/STAMP/releases/download/v2.1.3/STAMP_2_1_3.exe) in [zip](http://bailab.genetics.ac.cn/db/win.tar.gz). 

- R packages quick install

The statistics and visualization may require > 500 R packages. Installation is time-consuming and may also rely on other compilation tools. You can download all needed R packages in [zip for windows](http://bailab.genetics.ac.cn/db/R/4.2.zip) or [Mac](http://bailab.genetics.ac.cn/db/R/4.2_mac.zip), then unzip and take the `4.2` folder in C:\Users\[$UserName]\AppData\Local\R\win-library\

### Install EasyAmplicon (安装易扩增子)

- Method 1. Visit the GitHub homepage, Code -- Download

- EasyAmplicon pipeline (Positive control) https://github.com/YongxinLiu/EasyAmplicon
- EasyMicrobiome include scripts and databases https://github.com/YongxinLiu/EasyMicrobiome

Download the the project in C: or D:, then unzip (keep the directoray name exact the software name)

- Method 2. Download by the mirror site in China: [EasyAmplicon](http://bailab.genetics.ac.cn/db/EasyAmplicon.tar.gz) [EasyMicrobiome](http://bailab.genetics.ac.cn/db/EasyMicrobiome.tar.gz)

- Method 3. `git clone https://github.com/YongxinLiu/EasyAmplicon` and `git clone https://github.com/YongxinLiu/EasyMicrobiome`. Note: `fatal: unable to access` can retry.

## Quick Start (快速运行)

Using Windows 10+ as example:

1. Open RStudio, set termianl as Git Bash (Tools -- Global Options -- Terminal -- New termianls -- Git Bash -- OK)
2. File -- Open File -- `EasyAmplicon` folder -- pipeline.sh (windows/linux) or pipeline_mac.sh (mac)
3. Setup the `work directory`(wd), and `EasyMicrobiome directory`(db), then run each line by click run in top right corner

## Example dataset (示例数据)

- seq/ # raw sequencing in zipped fastq format, backup can download by metadata in GSA https://ngdc.cncb.ac.cn/gsa/
- result/ # Example data and figures for standard pipeline, such as alpha, beta, tax
- advanced/ # Example of advanced analysis, included data, scripts and output figures

## FAQ (常见问题)

Frequenty Asked Questions in pipeline.sh

Note: All the .sh script is writting in markdown format, using Youdao Note or VSCode for better reading experience.

## Citation (引文)

使用此脚本，请引用下文：

If used this script, please cited:

**Yong-Xin Liu**, Lei Chen, Tengfei Ma, Xiaofang Li, Maosheng Zheng, Xin Zhou, Liang Chen, Xubo Qian, Jiao Xi, Hongye Lu, Huiluo Cao, Xiaoya Ma, Bian Bian, Pengfan Zhang, Jiqiu Wu, Ren-You Gan, Baolei Jia, Linyang Sun, Zhicheng Ju, Yunyun Gao, **Tao Wen**, **Tong Chen**. 2023. EasyAmplicon: An easy-to-use, open-source, reproducible, and community-based pipeline for amplicon data analysis in microbiome research. **iMeta** 2: e83. https://doi.org/10.1002/imt2.83

Copyright 2016-2023 Yong-Xin Liu <liuyongxin@caas.cn>, Tao Wen <taowen@njau.edu.cn>, Tong Chen <chent@nrc.ac.cn>


